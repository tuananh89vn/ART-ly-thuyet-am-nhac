<!doctype html>
<html lang="vi">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tr√≤ Ch∆°i H·ªçc Nh·ªãp 4/4</title>
  <script src="/_sdk/element_sdk.js"></script>
  <!-- X√≥a Google Font cho m√†n h√¨nh kh·ªüi ƒë·ªông (kh√¥ng c√≤n d√πng) -->
  <!--
    Giao di·ªán v√† ki·ªÉu d√°ng c·ªßa ·ª©ng d·ª•ng.
    T·∫•t c·∫£ CSS ƒë∆∞·ª£c vi·∫øt t√πy ch·ªânh ƒë·ªÉ t·∫°o ra giao di·ªán m√†u h·ªìng,
    th√¢n thi·ªán v·ªõi ch·ªß ƒë·ªÅ √¢m nh·∫°c.
  -->
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #fbb6ce 0%, #f687b3 50%, #ed64a6 100%);
            background-attachment: fixed;
            min-height: 100%;
            color: #2d3748;
            position: relative;
            overflow-x: hidden;
        }

        /* Hi·ªáu ·ª©ng n·ªët nh·∫°c bay l∆° l·ª≠ng */
        body::before {
            content: 'üéµ üé∂ üéº üéπ üé∫ üé∏ ü•Å üé§';
            position: fixed;
            top: -50px;
            left: -50px;
            right: -50px;
            bottom: -50px;
            font-size: 2rem;
            opacity: 0.1;
            animation: floatingNotes 20s linear infinite;
            pointer-events: none;
            z-index: 0;
            white-space: nowrap;
            overflow: hidden;
        }

        @keyframes floatingNotes {
            0% { transform: translateY(100vh) rotate(0deg); }
            100% { transform: translateY(-100vh) rotate(360deg); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(15px);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 
                0 30px 60px rgba(237, 100, 166, 0.2),
                0 15px 30px rgba(246, 135, 179, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(255, 255, 255, 0.4);
            position: relative;
            z-index: 1;
            animation: containerGlow 4s ease-in-out infinite alternate;
        }

        @keyframes containerGlow {
            0% { 
                box-shadow: 
                    0 30px 60px rgba(237, 100, 166, 0.2),
                    0 15px 30px rgba(246, 135, 179, 0.15),
                    inset 0 1px 0 rgba(255, 255, 255, 0.8);
            }
            100% { 
                box-shadow: 
                    0 35px 70px rgba(237, 100, 166, 0.3),
                    0 20px 40px rgba(246, 135, 179, 0.25),
                    inset 0 1px 0 rgba(255, 255, 255, 0.9);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            padding: 20px 0;
        }

        .header::before {
            content: 'üéº‚ú®üéµ‚ú®üé∂‚ú®üéº';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            animation: sparkle 2s ease-in-out infinite;
            background: linear-gradient(45deg, #ed64a6, #f687b3, #fbb6ce);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 3px;
            background: linear-gradient(90deg, #ed64a6, #f687b3, #fbb6ce, #f687b3, #ed64a6);
            border-radius: 2px;
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0.7; transform: translateX(-50%) scale(1); }
            50% { opacity: 1; transform: translateX(-50%) scale(1.1); }
        }

        @keyframes shimmer {
            0% { background-position: -150px 0; }
            100% { background-position: 150px 0; }
        }

        .game-title {
            font-size: 3.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ed64a6 0%, #f687b3 30%, #fbb6ce 60%, #ed64a6 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            letter-spacing: -1px;
            animation: titleGradient 4s ease-in-out infinite, titleBounce 6s ease-in-out infinite;
            text-shadow: 0 0 30px rgba(237, 100, 166, 0.3);
            position: relative;
        }

        .game-title::before {
            content: 'üéµ√ÇM NH·∫†C - NH·ªäP 4/4üéµ';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, rgba(237, 100, 166, 0.2), rgba(246, 135, 179, 0.2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: blur(2px);
            z-index: -1;
        }

        @keyframes titleGradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes titleBounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        .welcome-text {
            font-size: 1.3rem;
            color: #718096;
            margin-bottom: 20px;
            font-weight: 400;
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 10px;
            box-shadow: 
                0 10px 40px rgba(237, 100, 166, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .tabs::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(237, 100, 166, 0.1), transparent);
            animation: tabsShine 3s ease-in-out infinite;
        }

        @keyframes tabsShine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .tab {
            padding: 18px 30px;
            margin: 0 8px;
            border: none;
            border-radius: 18px;
            background: transparent;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            color: #4a5568;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(237, 100, 166, 0.2), transparent);
            transition: left 0.6s ease;
            z-index: -1;
        }

        .tab:hover {
            transform: translateY(-2px);
            color: #ed64a6;
            background: rgba(237, 100, 166, 0.1);
            box-shadow: 0 8px 25px rgba(237, 100, 166, 0.2);
        }

        .tab:hover::before {
            left: 100%;
        }

        .tab.active {
            background: linear-gradient(135deg, #ed64a6 0%, #f687b3 50%, #fbb6ce 100%);
            color: white;
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(237, 100, 166, 0.4);
            animation: tabPulse 2s ease-in-out infinite;
        }

        @keyframes tabPulse {
            0%, 100% { box-shadow: 0 12px 30px rgba(237, 100, 166, 0.4); }
            50% { box-shadow: 0 15px 35px rgba(237, 100, 166, 0.6); }
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }
 
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- B·ªï sung CSS cho M√†n h√¨nh kh·ªüi ƒë·ªông (ƒê√É C·∫¨P NH·∫¨T) --- */
        /* .fredoka class removed */

        #loadingScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            /* N·ªÅn m√†u h·ªìng nh·∫°t gi·ªëng h√¨nh ·∫£nh */
            background-color: #FDF6F8; 
            transition: opacity 0.5s ease;
        }

        /* .glass class removed */

        /* .gradient-text class removed */
        
        .fade-out {
             animation: fadeOut 0.5s ease forwards;
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; visibility: hidden; }
        }

        /* .logo-spin animation removed */
        
        /* .sparkle-icon, .music-icon, .float-icon animations removed */

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        .pulse-icon {
            animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes progress-load {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        .progress-bar {
            /* Gi·∫£ l·∫≠p thanh ti·∫øn tr√¨nh ch·∫°y trong 3s */
            animation: progress-load 3s ease-out forwards;
        }
        /* --- H·∫øt CSS cho M√†n h√¨nh kh·ªüi ƒë·ªông --- */

        /* M√¥ Ph·ªèng Nh·ªãp */
        .rhythm-simulator {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, rgba(255, 236, 210, 0.9) 0%, rgba(252, 182, 159, 0.9) 100%);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.3);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .simulator-header {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .theory-toggle {
            padding: 12px 24px;
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(66, 153, 225, 0.3);
        }

        .theory-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(66, 153, 225, 0.4);
        }

        .theory-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            text-align: left;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            display: none;
            animation: slideDown 0.5s ease;
        }

        .theory-panel.show {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .theory-panel h3 {
            color: #2d3748;
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .theory-panel h4 {
            color: #4a5568;
            font-size: 1.2rem;
            margin: 20px 0 10px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .theory-panel ul {
            margin: 15px 0;
            padding-left: 20px;
        }

        .theory-panel li {
            margin: 8px 0;
            line-height: 1.6;
        }

        .example-box {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #ebf8ff 0%, #bee3f8 100%);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid #4299e1;
            margin: 15px 0;
        }

        .beat-display {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .beat {
            width: 110px;
            height: 110px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1.9rem;
            font-weight: 700;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border: 4px solid rgba(255,255,255,0.4);
            position: relative;
            overflow: hidden;
            animation: beatFloat 3s ease-in-out infinite;
        }

        .beat::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, rgba(255,255,255,0.4) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .beat::after {
            content: '‚ô™';
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 1.2rem;
            opacity: 0;
            animation: noteFloat 2s ease-in-out infinite;
            color: rgba(237, 100, 166, 0.8);
        }

        .beat:hover {
            transform: scale(1.05) translateY(-5px);
            border-color: rgba(255,255,255,0.8);
        }

        .beat:hover::before {
            opacity: 1;
        }

        .beat:hover::after {
            opacity: 1;
        }

        @keyframes beatFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
        }

        @keyframes noteFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.6; }
            50% { transform: translateY(-8px) rotate(10deg); opacity: 1; }
        }

        .beat small {
            font-size: 0.8rem;
            font-weight: 500;
            margin-top: 5px;
        }

        .beat.strong {
            background: linear-gradient(135deg, #e53e3e 0%, #c53030 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(229, 62, 62, 0.3);
        }

        .beat.weak {
            background: linear-gradient(135deg, #90cdf4 0%, #63b3ed 100%);
            color: #2d3748;
            box-shadow: 0 8px 25px rgba(144, 205, 244, 0.3);
        }

        .beat.medium {
            background: linear-gradient(135deg, #f6ad55 0%, #ed8936 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(246, 173, 85, 0.3);
        }

        .beat.active {
            transform: scale(1.25) translateY(-8px);
            box-shadow: 
                0 20px 50px rgba(229, 62, 62, 0.6),
                0 0 30px rgba(237, 100, 166, 0.4);
            border-color: rgba(255,255,255,1);
            animation: beatActive 0.6s ease-in-out, beatFloat 3s ease-in-out infinite;
        }

        .beat.active::before {
            opacity: 1;
            background: radial-gradient(circle at center, rgba(255,255,255,0.6) 0%, transparent 70%);
        }

        .beat.active::after {
            opacity: 1;
            animation: noteActive 0.6s ease-in-out, noteFloat 2s ease-in-out infinite;
        }

        @keyframes beatActive {
            0% { transform: scale(1) translateY(0px); }
            50% { transform: scale(1.3) translateY(-10px); }
            100% { transform: scale(1.25) translateY(-8px); }
        }

        @keyframes noteActive {
            0% { transform: translateY(0px) rotate(0deg) scale(1); }
            50% { transform: translateY(-15px) rotate(20deg) scale(1.3); }
            100% { transform: translateY(-8px) rotate(10deg) scale(1.1); }
        }

        .controls {
            margin: 30px 0;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 20px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            min-width: 120px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ed64a6 0%, #f687b3 50%, #fbb6ce 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(237, 100, 166, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn-primary::after {
            content: '‚ô™';
            position: absolute;
            top: 50%;
            right: 15px;
            transform: translateY(-50%);
            opacity: 0;
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }

        .btn-primary:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 40px rgba(237, 100, 166, 0.5);
            background: linear-gradient(135deg, #f687b3 0%, #ed64a6 50%, #d53f8c 100%);
        }

        .btn-primary:hover::after {
            opacity: 1;
            transform: translateY(-50%) rotate(15deg);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f687b3 0%, #ed64a6 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(246, 135, 179, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn-secondary::after {
            content: '‚ô´';
            position: absolute;
            top: 50%;
            right: 15px;
            transform: translateY(-50%);
            opacity: 0;
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }

        .btn-secondary:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 40px rgba(246, 135, 179, 0.5);
            background: linear-gradient(135deg, #ed64a6 0%, #d53f8c 100%);
        }

        .btn-secondary:hover::after {
            opacity: 1;
            transform: translateY(-50%) rotate(-15deg);
        }

        .tempo-control {
            margin: 30px 0;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .tempo-control label {
            font-size: 1.2rem;
            font-weight: 600;
            color: #4a5568;
            margin-right: 15px;
        }

        .tempo-slider {
            width: 300px;
            height: 8px;
            margin: 0 20px;
            background: linear-gradient(90deg, #e2e8f0, #cbd5e0);
            border-radius: 4px;
            outline: none;
            -webkit-appearance: none;
        }

        .tempo-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(66, 153, 225, 0.4);
            transition: all 0.3s ease;
        }

        .tempo-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 6px 20px rgba(66, 153, 225, 0.6);
        }

        .tempo-slider::-moz-range-thumb {
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 4px 12px rgba(66, 153, 225, 0.4);
        }

        #tempoDisplay {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2d3748;
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Ph·∫ßn Tr·∫Øc Nghi·ªám */
        .quiz-container {
            background: linear-gradient(135deg, rgba(168, 237, 234, 0.9) 0%, rgba(254, 214, 227, 0.9) 100%);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 40px;
            border: 1px solid rgba(255,255,255,0.3);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .question {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .question h3 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .options {
            display: grid;
            gap: 12px;
        }

        .option {
            padding: 18px 20px;
            border: 2px solid rgba(226, 232, 240, 0.8);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(247, 250, 252, 0.8);
            backdrop-filter: blur(5px);
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }

        .option:hover::before {
            left: 100%;
        }

        .option:hover {
            border-color: #4299e1;
            background: rgba(235, 248, 255, 0.9);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(66, 153, 225, 0.2);
        }

        .option.selected {
            border-color: #4299e1;
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(66, 153, 225, 0.4);
        }

        .option.correct {
            border-color: #48bb78;
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.4);
        }

        .option.incorrect {
            border-color: #f56565;
            background: linear-gradient(135deg, #f56565 0%, #e53e3e 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(245, 101, 101, 0.4);
        }

        /* AI Gi√°o Vi√™n */
        .ai-teacher {
            background: linear-gradient(135deg, rgba(210, 153, 194, 0.9) 0%, rgba(254, 249, 215, 0.9) 100%);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 40px;
            border: 1px solid rgba(255,255,255,0.3);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .teacher-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            margin: 0 auto 25px;
            box-shadow: 0 15px 35px rgba(66, 153, 225, 0.3);
            border: 4px solid rgba(255,255,255,0.3);
            position: relative;
            overflow: hidden;
        }

        .teacher-avatar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, rgba(255,255,255,0.2) 0%, transparent 70%);
        }

        .chat-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            margin-top: 25px;
            max-height: 400px;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .message {
            margin-bottom: 20px;
            padding: 18px 22px;
            border-radius: 15px;
            line-height: 1.6;
            font-weight: 500;
        }

        .message.user {
            background: linear-gradient(135deg, rgba(235, 248, 255, 0.9) 0%, rgba(190, 227, 248, 0.9) 100%);
            margin-left: 30px;
            border-left: 4px solid #4299e1;
        }

        .message.ai {
            background: linear-gradient(135deg, rgba(240, 255, 244, 0.9) 0%, rgba(198, 246, 213, 0.9) 100%);
            margin-right: 30px;
            border-left: 4px solid #48bb78;
        }

        .input-container {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .question-input {
            flex: 1;
            padding: 18px 20px;
            border: 2px solid rgba(226, 232, 240, 0.8);
            border-radius: 15px;
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .question-input:focus {
            outline: none;
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
            background: rgba(255, 255, 255, 1);
        }

        .score-display {
            text-align: center;
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 25px 0;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(226, 232, 240, 0.8);
            border-radius: 6px;
            overflow: hidden;
            margin: 25px 0;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #48bb78 0%, #38a169 50%, #2f855a 100%);
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 6px;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Ki·ªÉu d√°ng S∆° ƒê·ªì ƒê√°nh Nh·ªãp */
        .conducting-diagram {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 25px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .conducting-pattern {
            text-align: center;
            margin-bottom: 25px;
        }

        .conducting-pattern svg {
            max-width: 100%;
            height: auto;
            background: rgba(247, 250, 252, 0.8);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .beat-label {
            font-size: 12px;
            font-weight: 600;
            fill: #4a5568;
            font-family: 'Segoe UI', sans-serif;
        }

        .conducting-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
        }

        .tempo-info {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tempo-info label {
            font-size: 1rem;
            font-weight: 600;
            color: #4a5568;
        }

        #conductingTempo {
            width: 200px;
            height: 6px;
            background: linear-gradient(90deg, #e2e8f0, #cbd5e0);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }

        #conductingTempo::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
        }

        #conductingTempo::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.6);
        }

        #conductingTempo::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.4);
        }

        #conductingTempoDisplay {
            font-size: 1.1rem;
            font-weight: 700;
            color: #2d3748;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .conducting-instructions {
            background: linear-gradient(135deg, rgba(235, 248, 255, 0.9) 0%, rgba(190, 227, 248, 0.9) 100%);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid #4299e1;
        }

        .conducting-instructions h5 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .conducting-instructions ol {
            margin: 0;
            padding-left: 20px;
        }

        .conducting-instructions li {
            margin: 8px 0;
            line-height: 1.6;
            font-weight: 500;
        }

        /* Ki·ªÉu d√°ng S∆° ƒê·ªì ƒê√°nh Nh·ªãp N√¢ng Cao */
        .beat-label-main {
            font-size: 16px;
            font-weight: bold;
            fill: #2d3748;
            font-family: 'Segoe UI', sans-serif;
        }

        .beat-label-sub {
            font-size: 11px;
            font-weight: 600;
            fill: #4a5568;
            font-family: 'Segoe UI', sans-serif;
        }

        .indicator-label {
            font-size: 10px;
            font-weight: 500;
            fill: #4a5568;
            font-family: 'Segoe UI', sans-serif;
        }

        .conductor-label {
            font-size: 12px;
        }

        .control-row {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .conducting-btn {
            min-width: 200px;
        }

        .tempo-control-advanced {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .tempo-presets {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .tempo-preset {
            padding: 8px 16px;
            background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e0 100%);
            border: none;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #4a5568;
        }

        .tempo-preset:hover {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(66, 153, 225, 0.3);
        }

        .instruction-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .instruction-item {
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(255, 255, 255, 0.6);
            padding: 15px;
            border-radius: 12px;
            border-left: 4px solid #4299e1;
            transition: all 0.3s ease;
        }

        .instruction-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(66, 153, 225, 0.2);
            background: rgba(255, 255, 255, 0.8);
        }

        .instruction-icon {
            font-size: 1.5rem;
            min-width: 30px;
            text-align: center;
        }

        .instruction-content {
            flex: 1;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .instruction-content strong {
            color: #2d3748;
            display: block;
            margin-bottom: 4px;
        }

        /* Tr·∫°ng th√°i ho·∫°t ·∫£nh ƒë√°nh nh·ªãp */
        .conducting-paused #conductorHand animateMotion {
            animation-play-state: paused;
        }

        .conducting-active #conductorHand animateMotion {
            animation-play-state: running;
        }

        /* Ho·∫°t ·∫£nh ch·ªâ b√°o ph√°ch */
        .beat-indicator-active {
            opacity: 1 !important;
            transform: scale(1.2);
            transition: all 0.2s ease;
        }

        /* Ki·ªÉu d√°ng trang L√Ω Thuy·∫øt */
        .theory-container {
            background: linear-gradient(135deg, rgba(235, 248, 255, 0.9) 0%, rgba(190, 227, 248, 0.9) 100%);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 40px;
            border: 1px solid rgba(255,255,255,0.3);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .theory-container h2 {
            text-align: center;
            color: #2d3748;
            font-size: 2.5rem;
            margin-bottom: 40px;
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .theory-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-bottom: 30px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .section-header {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            padding: 20px 30px;
            color: white;
        }

        .section-header h3 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .theory-content {
            padding: 30px;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(240, 255, 244, 0.9) 0%, rgba(198, 246, 213, 0.9) 100%);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid #48bb78;
            margin: 20px 0;
        }

        .highlight-box h4 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .highlight-box ul {
            margin: 0;
            padding-left: 20px;
        }

        .highlight-box li {
            margin: 8px 0;
            line-height: 1.6;
            font-weight: 500;
        }

        /* L∆∞·ªõi C·∫•u Tr√∫c Ph√°ch */
        .beat-structure-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .beat-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .beat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .beat-card.strong-beat {
            border-color: #e53e3e;
            background: linear-gradient(135deg, rgba(254, 178, 178, 0.3) 0%, rgba(252, 129, 129, 0.3) 100%);
        }

        .beat-card.medium-beat {
            border-color: #f6ad55;
            background: linear-gradient(135deg, rgba(254, 215, 170, 0.3) 0%, rgba(251, 191, 36, 0.3) 100%);
        }

        .beat-card.weak-beat {
            border-color: #63b3ed;
            background: linear-gradient(135deg, rgba(190, 227, 248, 0.3) 0%, rgba(144, 205, 244, 0.3) 100%);
        }

        .beat-number {
            font-size: 3rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .beat-type {
            font-size: 1.1rem;
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 10px;
        }

        .beat-description {
            font-size: 0.9rem;
            color: #718096;
            line-height: 1.4;
        }

        /* L∆∞·ªõi ·ª®ng D·ª•ng */
        .applications-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .genre-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 2px solid rgba(66, 153, 225, 0.2);
        }

        .genre-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(66, 153, 225, 0.2);
            border-color: #4299e1;
        }

        .genre-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .genre-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 8px;
        }

        .genre-description {
            font-size: 0.9rem;
            color: #718096;
            line-height: 1.4;
        }

        /* V√≠ D·ª• B√†i H√°t */
        .song-examples {
            margin: 15px 0;
        }

        .song-item {
            display: flex;
            flex-direction: column;
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 4px solid #4299e1;
            transition: all 0.3s ease;
        }

        .song-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(66, 153, 225, 0.2);
        }

        .song-title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .song-description {
            font-size: 0.9rem;
            color: #718096;
        }

        .tip-box {
            background: linear-gradient(135deg, rgba(255, 236, 210, 0.9) 0%, rgba(252, 182, 159, 0.9) 100%);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid #f6ad55;
            margin: 20px 0;
        }

        .tip-box h5 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .tip-box ul {
            margin: 0;
            padding-left: 20px;
        }

        .tip-box li {
            margin: 8px 0;
            line-height: 1.6;
            font-weight: 500;
        }

        /* --- STYLES FOR ABOUT TAB REMOVED --- */
        /* C√°c ki·ªÉu CSS sau ƒë√£ ƒë∆∞·ª£c x√≥a v√¨ tab 'Gi·ªõi thi·ªáu'
           hi·ªán ƒë∆∞·ª£c t·∫°o ki·ªÉu b·∫±ng Tailwind CSS:
           .about-container, .author-content, .author-header, .author-logo,
           .author-details h3, .author-details p, .features-highlight,
           .features-highlight h4, .features-highlight ul, .features-highlight li,
           .features-highlight li:hover, .support-section, .support-section h4,
           .qr-container, .qr-code, .qr-actions, .qr-note
        */

        /* Responsive Design */
        @media (max-width: 768px) {
            .beat-display {
                gap: 10px;
            }
            
            .beat {
                width: 60px;
                height: 60px;
                font-size: 1.2rem;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                margin: 5px 0;
            }

            .conducting-pattern svg {
                padding: 10px;
            }

            .tempo-info {
                flex-direction: column;
                text-align: center;
            }

            #conductingTempo {
                width: 150px;
            }

            .conducting-instructions ol {
                padding-left: 15px;
            }

            /* --- REMOVED RESPONSIVE STYLES FOR ABOUT TAB --- */
            /* C√°c ki·ªÉu responsive cho .author-header v√† .qr-container ƒë√£ ƒë∆∞·ª£c x√≥a */
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <!-- M√†n h√¨nh kh·ªüi ƒë·ªông (ƒê√É C·∫¨P NH·∫¨T THEO H√åNH M·ªöI) -->
  <div id="loadingScreen" class="p-8 text-center fade-in">
    <!-- H·ªôp tr·∫Øng ch·ª©a n·ªôi dung -->
    <div class="bg-white p-8 md:p-10 rounded-2xl shadow-2xl flex flex-col items-center justify-center w-full max-w-md mx-auto">
        <div class="mb-5">
            <!-- Logo (b·ªè class logo-spin) -->
            <img src="https://i.postimg.cc/QMVXzkYz/ART-PRO-EDUCATION.jpg" 
                 alt="Art Pro Education" 
                 class="w-48 h-auto rounded-2xl shadow-lg mx-auto"
                 onerror="this.style.display='none';">
        </div>
        
        <!-- Icons (ƒë√£ x√≥a) -->
        
        <!-- Ti√™u ƒë·ªÅ (c·∫≠p nh·∫≠t class) -->
        <h1 class="text-2xl font-bold text-pink-600 mb-2">
            Art Pro Education
        </h1>
        
        <!-- Ph·ª• ƒë·ªÅ (c·∫≠p nh·∫≠t class) -->
        <p class="text-gray-600 text-sm mb-6">
            ƒêang kh·ªüi ƒë·ªông ·ª©ng d·ª•ng √¢m nh·∫°c...
        </p>
        
        <!-- Thanh ti·∫øn tr√¨nh (c·∫≠p nh·∫≠t n·ªÅn) -->
        <div class="w-full bg-gray-200 rounded-full h-2.5 mb-4 overflow-hidden">
            <div class="bg-gradient-to-r from-pink-400 to-rose-500 h-full rounded-full progress-bar"></div>
        </div>
        
        <!-- Ch·ªØ Vui l√≤ng ch·ªù (c·∫≠p nh·∫≠t class) -->
        <div class="flex justify-center items-center gap-2 text-gray-500 text-sm">
            <span class="pulse-icon text-lg">‚è≥</span>
            <span>Vui l√≤ng ch·ªù...</span>
        </div>
    </div>
  </div>

  <!-- N·ªôi dung ch√≠nh c·ªßa ·ª©ng d·ª•ng (ƒê√É S·ª¨A) -->
  <div id="mainContent" class="container" style="display: none;">
   <!-- Header -->
   <div class="header">
    <h1 class="game-title">üéµ√ÇM NH·∫†C - NH·ªäP 4/4üéµ</h1>
    <p class="welcome-text">Ch√†o m·ª´ng c√°c em ƒë·∫øn v·ªõi ·ª©ng d·ª•ng h·ªçc √¢m nh·∫°c chuy√™n nghi·ªáp!</p>
   </div>

   <!-- Tab Navigation -->
   <div class="tabs">
     <button class="tab active" onclick="showTab('simulator')">üéº M√¥ Ph·ªèng Nh·ªãp</button> 
     <button class="tab" onclick="showTab('theory')">üìö L√Ω Thuy·∫øt</button> 
     <button class="tab" onclick="showTab('quiz')">üìù Tr·∫Øc Nghi·ªám</button> 
     <button class="tab" onclick="showTab('ai-teacher')">ü§ñ AI Gi√°o Vi√™n</button> 
     <button class="tab" onclick="showTab('about')">‚ÑπÔ∏è Gi·ªõi Thi·ªáu</button>
   </div>

   <!-- Tab 1: Rhythm Simulator -->
   <div id="simulator" class="tab-content active">
    <div class="rhythm-simulator">
     <h2 style="text-align: center; margin-bottom: 30px;">üéµ M√¥ Ph·ªèng Nh·ªãp 4/4</h2>
     <p style="text-align: center; font-size: 1.2rem; font-weight: 600; color: #4a5568; margin: 20px 0;"><strong>M√¥ ph·ªèng: M·∫°nh - Nh·∫π - M·∫°nh v·ª´a - Nh·∫π</strong></p>
     <div class="beat-display">
      <div class="beat strong" id="beat1">
       1<br><small>M·∫°nh</small>
      </div>
      <div class="beat weak" id="beat2">
       2<br><small>Nh·∫π</small>
      </div>
      <div class="beat medium" id="beat3">
       3<br><small>M·∫°nh v·ª´a</small>
      </div>
      <div class="beat weak" id="beat4">
       4<br><small>Nh·∫π</small>
      </div>
     </div>
     <div class="controls">
       <button class="btn btn-primary" onclick="startRhythm()">‚ñ∂Ô∏è B·∫Øt ƒê·∫ßu</button> 
       <button class="btn btn-secondary" onclick="stopRhythm()">‚èπÔ∏è D·ª´ng</button>
     </div>
     <div class="tempo-control">
       <label>T·ªëc ƒë·ªô: </label> 
       <input type="range" class="tempo-slider" min="60" max="140" value="100" id="tempoSlider" onchange="updateTempo()"> 
       <span id="tempoDisplay">100 BPM</span>
     </div>
    </div>
   </div>

   <!-- Tab 2: Theory -->
   <div id="theory" class="tab-content">
    <div class="theory-container">
     <h2>üìö L√Ω Thuy·∫øt Nh·ªãp 4/4</h2>
     <!-- Introduction Section -->
     <div class="theory-section">
      <div class="section-header">
       <h3>üéØ Gi·ªõi Thi·ªáu T·ªïng Quan</h3>
      </div>
      <div class="theory-content">
       <p><strong>Nh·ªãp 4/4</strong> c√≤n ƒë∆∞·ª£c g·ªçi l√† <em>nh·ªãp th√¥ng th∆∞·ªùng (common time)</em>, l√† m·ªôt trong nh·ªØng s·ªë ch·ªâ nh·ªãp ph·ªï bi·∫øn nh·∫•t trong √¢m nh·∫°c hi·ªán ƒë·∫°i.</p>
       <div class="highlight-box">
        <h4>üîë ƒê·∫∑c ƒëi·ªÉm ch√≠nh:</h4>
        <ul>
         <li>C√≥ <strong>b·ªën ph√°ch</strong> trong m·ªói √¥ nh·ªãp</li>
         <li>M·ªói ph√°ch t∆∞∆°ng ƒë∆∞∆°ng v·ªõi m·ªôt <strong>n·ªët ƒëen</strong></li>
         <li><strong>Ph√°ch 1</strong>: Ph√°ch m·∫°nh ch√≠nh</li>
         <li><strong>Ph√°ch 3</strong>: Ph√°ch m·∫°nh ph·ª•</li>
         <li>T·∫°o c·∫£m gi√°c <em>c√¢n b·∫±ng, ·ªïn ƒë·ªãnh v√† d·ªÖ theo</em></li>
        </ul>
       </div>
      </div>
     </div>
     <!-- Beat Structure Section -->
     <div class="theory-section">
      <div class="section-header">
       <h3>üéº C·∫•u Tr√∫c Ph√°ch</h3>
      </div>
      <div class="theory-content">
       <div class="beat-structure-grid">
        <div class="beat-card strong-beat">
         <div class="beat-number">1</div>
         <div class="beat-type">M·∫†NH CH√çNH</div>
         <div class="beat-description">Ph√°ch quan tr·ªçng nh·∫•t, ƒë√°nh d·∫•u b·∫Øt ƒë·∫ßu √¥ nh·ªãp</div>
        </div>
        <div class="beat-card weak-beat">
         <div class="beat-number">2</div>
         <div class="beat-type">NH·∫∏</div>
         <div class="beat-description">Ph√°ch y·∫øu, t·∫°o s·ª± th∆∞ gi√£n</div>
        </div>
        <div class="beat-card medium-beat">
         <div class="beat-number">3</div>
         <div class="beat-type">M·∫†NH PH·ª§</div>
         <div class="beat-description">Ph√°ch m·∫°nh th·ª© hai, t·∫°o c√¢n b·∫±ng</div>
        </div>
        <div class="beat-card weak-beat">
         <div class="beat-number">4</div>
         <div class="beat-type">NH·∫∏</div>
         <div class="beat-description">Ph√°ch y·∫øu, chu·∫©n b·ªã cho √¥ nh·ªãp m·ªõi</div>
        </div>
       </div>
      </div>
     </div>
     <!-- Conducting Diagram Section -->
     <div class="theory-section">
      <div class="section-header">
       <h3>üéº S∆° ƒê·ªì ƒê√°nh Nh·ªãp Chuy√™n Nghi·ªáp</h3>
      </div>
      <div class="theory-content">
       <div class="conducting-diagram">
        <div class="conducting-pattern">
         <svg width="400" height="280" viewbox="0 0 400 280">
           <!-- N·ªÅn v√† hi·ªáu ·ª©ng -->
           <defs>
            <radialgradient id="bgGradient" cx="50%" cy="50%" r="50%">
             <stop offset="0%" style="stop-color:#f7fafc;stop-opacity:1" />
             <stop offset="100%" style="stop-color:#e2e8f0;stop-opacity:1" />
            </radialgradient>
            <filter id="glow">
             <fegaussianblur stddeviation="3" result="coloredBlur" />
             <femerge>
              <femergenode in="coloredBlur" />
              <femergenode in="SourceGraphic" />
             </femerge>
            </filter>
            <lineargradient id="pathGradient" x1="0%" y1="0%" x2="100%" y2="100%">
             <stop offset="0%" style="stop-color:#4299e1;stop-opacity:1" />
             <stop offset="50%" style="stop-color:#667eea;stop-opacity:1" />
             <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
            </lineargradient>
           </defs>
           <rect width="100%" height="100%" fill="url(#bgGradient)" rx="15" />
           <!-- ƒê∆∞·ªùng ƒë√°nh nh·ªãp -->
           <path id="conductingPath2" d="M 200 70 L 200 180 L 120 140 L 280 140 L 200 70" fill="none" stroke="url(#pathGradient)" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="0" opacity="0.8" />
           <!-- Ch·ªâ b√°o v·ªã tr√≠ ph√°ch -->
           <g id="beatMarkers2">
            <!-- Ph√°ch 1 - M·∫°nh -->
            <circle cx="200" cy="70" r="12" fill="#e53e3e" opacity="0.9" filter="url(#glow)" />
            <circle cx="200" cy="70" r="8" fill="#fff" opacity="0.3" />
            <!-- Ph√°ch 2 - Nh·∫π -->
            <circle cx="200" cy="180" r="8" fill="#63b3ed" opacity="0.9" filter="url(#glow)" />
            <circle cx="200" cy="180" r="5" fill="#fff" opacity="0.3" />
            <!-- Ph√°ch 3 - V·ª´a -->
            <circle cx="120" cy="140" r="10" fill="#f6ad55" opacity="0.9" filter="url(#glow)" />
            <circle cx="120" cy="140" r="6" fill="#fff" opacity="0.3" />
            <!-- Ph√°ch 4 - Nh·∫π -->
            <circle cx="280" cy="140" r="8" fill="#63b3ed" opacity="0.9" filter="url(#glow)" />
            <circle cx="280" cy="140" r="5" fill="#fff" opacity="0.3" />
           </g>
           <!-- Nh√£n ph√°ch -->
           <g class="beat-labels">
            <text x="200" y="55" text-anchor="middle" class="beat-label-main">1</text>
            <text x="200" y="45" text-anchor="middle" class="beat-label-sub">M·∫†NH</text>
            <text x="200" y="205" text-anchor="middle" class="beat-label-main">2</text>
            <text x="200" y="215" text-anchor="middle" class="beat-label-sub">nh·∫π</text>
            <text x="120" y="125" text-anchor="middle" class="beat-label-main">3</text>
            <text x="120" y="115" text-anchor="middle" class="beat-label-sub">m·∫°nh v·ª´a</text>
            <text x="280" y="125" text-anchor="middle" class="beat-label-main">4</text>
            <text x="280" y="115" text-anchor="middle" class="beat-label-sub">nh·∫π</text>
           </g>
           <!-- M≈©i t√™n ch·ªâ h∆∞·ªõng -->
           <g class="direction-arrows" opacity="0.6">
            <path d="M 200 85 L 195 95 L 205 95 Z" fill="#4299e1" />
            <!-- Xu·ªëng -->
            <path d="M 200 165 L 195 155 L 205 155 Z" fill="#4299e1" />
            <!-- L√™n -->
            <path d="M 135 140 L 145 135 L 145 145 Z" fill="#4299e1" />
            <!-- Tr√°i -->
            <path d="M 265 140 L 255 135 L 255 145 Z" fill="#4299e1" />
            <!-- Ph·∫£i -->
           </g>
          </svg>
        </div>
        <div class="conducting-instructions">
         <h5>üìã H∆∞·ªõng d·∫´n ƒë√°nh nh·ªãp chuy√™n nghi·ªáp:</h5>
         <div class="instruction-grid">
          <div class="instruction-item">
           <div class="instruction-icon">1Ô∏è‚É£</div>
           <div class="instruction-content"><strong>Ph√°ch 1 - M·∫†NH NH·∫§T</strong><br>Tay xu·ªëng th·∫≥ng, nh·∫•n m·∫°nh ‚¨áÔ∏è</div>
          </div>
          <div class="instruction-item">
           <div class="instruction-icon">2Ô∏è‚É£</div>
           <div class="instruction-content"><strong>Ph√°ch 2 - Nh·∫π</strong><br>Tay l√™n nh·∫π nh√†ng ‚¨ÜÔ∏è</div>
          </div>
          <div class="instruction-item">
           <div class="instruction-icon">3Ô∏è‚É£</div>
           <div class="instruction-content"><strong>Ph√°ch 3 - M·∫°nh v·ª´a</strong><br>Tay sang tr√°i, nh·∫•n v·ª´a ‚¨ÖÔ∏è</div>
          </div>
          <div class="instruction-item">
           <div class="instruction-icon">4Ô∏è‚É£</div>
           <div class="instruction-content"><strong>Ph√°ch 4 - Nh·∫π</strong><br>Tay sang ph·∫£i nh·∫π ‚û°Ô∏è</div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- Applications Section -->
     <div class="theory-section">
      <div class="section-header">
       <h3>üéµ ·ª®ng D·ª•ng Trong √Çm Nh·∫°c</h3>
      </div>
      <div class="theory-content">
       <div class="applications-grid">
        <div class="genre-card">
         <div class="genre-icon">üé§</div>
         <div class="genre-name">Pop Music</div>
         <div class="genre-description">Nh·∫°c pop hi·ªán ƒë·∫°i, d·ªÖ nghe v√† ph·ªï bi·∫øn</div>
        </div>
        <div class="genre-card">
         <div class="genre-icon">üé∏</div>
         <div class="genre-name">Rock &amp; Metal</div>
         <div class="genre-description">Nh·∫°c rock m·∫°nh m·∫Ω, nƒÉng ƒë·ªông</div>
        </div>
        <div class="genre-card">
         <div class="genre-icon">üé∫</div>
         <div class="genre-name">Jazz</div>
         <div class="genre-description">Nh·∫°c jazz linh ho·∫°t, s√°ng t·∫°o</div>
        </div>
        <div class="genre-card">
         <div class="genre-icon">üéª</div>
         <div class="genre-name">Classical</div>
         <div class="genre-description">Nh·∫°c c·ªï ƒëi·ªÉn truy·ªÅn th·ªëng</div>
        </div>
        <div class="genre-card">
         <div class="genre-icon">üéß</div>
         <div class="genre-name">Electronic</div>
         <div class="genre-description">Nh·∫°c ƒëi·ªán t·ª≠, EDM</div>
        </div>
        <div class="genre-card">
         <div class="genre-icon">üé§</div>
         <div class="genre-name">Hip-Hop</div>
         <div class="genre-description">Nh·∫°c rap, hip-hop</div>
        </div>
       </div>
      </div>
     </div>
     <!-- Examples Section -->
     <div class="theory-section">
      <div class="section-header">
       <h3>üé§ V√≠ D·ª• Th·ª±c T·∫ø</h3>
      </div>
      <div class="theory-content">
       <div class="example-box">
        <h5>üéµ B√†i h√°t ph·ªï bi·∫øn v·ªõi nh·ªãp 4/4:</h5>
        <div class="song-examples">
         <div class="song-item">
           <span class="song-title">"Happy Birthday"</span> 
           <span class="song-description">Sinh nh·∫≠t vui v·∫ª - B√†i h√°t quen thu·ªôc</span>
         </div>
         <div class="song-item">
           <span class="song-title">"Twinkle Twinkle Little Star"</span> 
           <span class="song-description">Ng√¥i sao nh·ªè - B√†i h√°t thi·∫øu nhi</span>
         </div>
         <div class="song-item">
           <span class="song-title">H·∫ßu h·∫øt nh·∫°c Pop/Rock hi·ªán ƒë·∫°i</span> 
           <span class="song-description">T·ª´ Taylor Swift ƒë·∫øn The Beatles</span>
         </div>
        </div>
       </div>
       <div class="tip-box">
        <h5>üí° M·∫πo h·ªçc t·∫≠p:</h5>
        <ul>
         <li>H√£y v·ªó tay theo nh·ªãp 1-2-3-4 v√† ch√∫ √Ω ph√°ch 1, 3 ƒë∆∞·ª£c nh·∫•n m·∫°nh h∆°n!</li>
         <li>Nghe nh·∫°c v√† c·ªë g·∫Øng ƒë·∫øm nh·ªãp theo b√†i h√°t</li>
         <li>Th·ª±c h√†nh ƒë√°nh nh·ªãp v·ªõi tay theo s∆° ƒë·ªì chuy√™n nghi·ªáp</li>
         <li>B·∫Øt ƒë·∫ßu v·ªõi t·ªëc ƒë·ªô ch·∫≠m r·ªìi tƒÉng d·∫ßn</li>
        </ul>
       </div>
      </div>
     </div>
    </div>
   </div>

   <!-- Tab 3: Quiz -->
   <div id="quiz" class="tab-content">
    <div class="quiz-container">
     <h2>üìù Tr·∫Øc Nghi·ªám Nh·ªãp 4/4</h2>
     <div class="progress-bar">
      <div class="progress-fill" id="progressFill" style="width: 0%"></div>
     </div>
     <div class="score-display">ƒêi·ªÉm: <span id="score">0</span>/10</div>
     <div id="quizQuestions">
       <!-- C√¢u h·ªèi s·∫Ω ƒë∆∞·ª£c JS ch√®n v√†o ƒë√¢y -->
     </div>
     <div style="text-align: center; margin-top: 20px;">
       <button class="btn btn-primary" onclick="generateNewQuiz()">üîÑ T·∫°o B√†i M·ªõi</button> 
       <button class="btn btn-secondary" onclick="resetQuiz()">‚Ü©Ô∏è L√†m L·∫°i</button>
     </div>
    </div>
   </div>

   <!-- Tab 4: AI Teacher -->
   <div id="ai-teacher" class="tab-content">
    <div class="ai-teacher">
     <h2>ü§ñ AI Gi√°o Vi√™n √Çm Nh·∫°c</h2>
     <div class="teacher-avatar">üéº</div>
     <p style="text-align: center; font-size: 1.2rem; font-weight: bold;">C√¥ √Çm Nh·∫°c</p>
     <p style="text-align: center;">H√£y h·ªèi c√¥ v·ªÅ nh·ªãp 4/4 nh√©!</p>
     <div class="chat-container" id="chatContainer">
      <div class="message ai"><strong>C√¥ √Çm Nh·∫°c:</strong> Ch√†o em! C√¥ s·∫µn s√†ng tr·∫£ l·ªùi m·ªçi c√¢u h·ªèi v·ªÅ nh·ªãp 4/4. H√£y h·ªèi c√¥ b·∫•t c·ª© ƒëi·ªÅu g√¨ em mu·ªën bi·∫øt nh√©! üéµ</div>
     </div>
     <div class="input-container">
       <input type="text" class="question-input" id="questionInput" placeholder="Nh·∫≠p c√¢u h·ªèi c·ªßa em v·ªÅ nh·ªãp 4/4..." onkeypress="handleEnter(event)"> 
       <button class="btn btn-primary" onclick="askAI()">H·ªèi</button>
     </div>
    </div>
   </div>

   <!-- Tab 5: About (ƒê√É C·∫¨P NH·∫¨T B·ªê C·ª§C) -->
   <div id="about" class="tab-content">
    <!--
      B·ªë c·ª•c tab Gi·ªõi Thi·ªáu ƒë√£ ƒë∆∞·ª£c thi·∫øt k·∫ø l·∫°i
      d·ª±a tr√™n h√¨nh ·∫£nh, s·ª≠ d·ª•ng Tailwind CSS.
      N·ªôi dung g·ªëc (t√≠nh nƒÉng, t√™n t√°c gi·∫£) ƒë∆∞·ª£c gi·ªØ l·∫°i.
    -->
    <div class="px-4 py-8"> <!-- Th√™m padding cho tab content -->

      <!-- Ti√™u ƒë·ªÅ ch√≠nh -->
      <h2 class="text-3xl font-bold text-center mb-2" style="color: #ed64a6;">
        Gi·ªõi thi·ªáu
      </h2>
      <p class="text-center text-gray-500 mb-10 md:mb-12">
        ·ª®ng d·ª•ng h·ªçc √Çm nh·∫°c
      </p>
  
      <!-- L∆∞·ªõi 2 c·ªôt: T√°c gi·∫£ v√† ·ª¶ng h·ªô -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 mb-10 md:mb-12 max-w-5xl mx-auto">
  
        <!-- C·ªôt T√°c gi·∫£ (N·ªôi dung g·ªëc) -->
        <div class="bg-white p-6 md:p-8 rounded-2xl shadow-xl text-center flex flex-col items-center transition-transform transform hover:scale-[1.03]">
          <h3 class="text-xl font-semibold mb-5">‚ú® Ng∆∞·ªùi t·∫°o ‚ú®</h3>
          <img src="https://i.postimg.cc/YSVpBGJQ/ART-PRO-2.png" alt="ART PRO Logo" class="w-28 h-28 md:w-32 md:h-32 mx-auto rounded-full shadow-lg mb-4 border-4 border-pink-100" onerror="this.style.display='none';">
          <h4 class="text-2xl font-bold mb-2" style="background: linear-gradient(135deg, #ed64a6 0%, #f687b3 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            Tu·∫•n Anh
          </h4>
          <p class="text-gray-600 px-4">
            Chuy√™n gia ph√°t tri·ªÉn ·ª©ng d·ª•ng gi√°o d·ª•c
          </p>
        </div>
  
        <!-- C·ªôt ·ª¶ng h·ªô (N·ªôi dung g·ªëc) -->
        <div class="bg-white p-6 md:p-8 rounded-2xl shadow-xl text-center flex flex-col items-center transition-transform transform hover:scale-[1.03]">
          <h3 class="text-xl font-semibold mb-5">üíù ·ª¶ng H·ªô T√°c Gi·∫£ üíù</h3>
          <img src="https://i.postimg.cc/WzN1bBJy/QR-TUAN-ANH.png" alt="QR ·ª¶ng H·ªô" class="w-28 h-28 md:w-40 md:h-40 mx-auto rounded-lg shadow-md mb-4 border-4 border-pink-100" onerror="this.style.display='none';">
          <p class="text-gray-500 mb-6">
            Qu√©t m√£ QR ƒë·ªÉ ·ªßng h·ªô t√°c gi·∫£
          </p>
          <button class="btn btn-primary" onclick="downloadQR()">
            <span class="mr-2">‚≠ê</span> T·∫£i QR Code
          </button>
        </div>
      </div>
  
      <!-- Ph·∫ßn T√≠nh NƒÉng N·ªïi B·∫≠t (N·ªôi dung g·ªëc) -->
      <h2 class="text-2xl font-bold text-center mb-6">üöÄ T√≠nh nƒÉng n·ªïi b·∫≠t üöÄ</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto">
        
        <!-- N·∫°p 6 t√≠nh nƒÉng g·ªëc v√†o ƒë√¢y -->
        <div class="bg-white p-4 rounded-lg shadow-lg flex items-center transition-transform transform hover:scale-105 hover:shadow-xl">
          <span class="text-2xl mr-4">üéµ</span>
          <span class="text-gray-700 font-medium">M√¥ ph·ªèng nh·ªãp 4/4 v·ªõi √¢m thanh th·ª±c t·∫ø</span>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-lg flex items-center transition-transform transform hover:scale-105 hover:shadow-xl">
          <span class="text-2xl mr-4">üéº</span>
          <span class="text-gray-700 font-medium">S∆° ƒë·ªì ƒë√°nh nh·ªãp t∆∞∆°ng t√°c chuy√™n nghi·ªáp</span>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-lg flex items-center transition-transform transform hover:scale-105 hover:shadow-xl">
          <span class="text-2xl mr-4">üìù</span>
          <span class="text-gray-700 font-medium">H·ªá th·ªëng tr·∫Øc nghi·ªám th√¥ng minh</span>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-lg flex items-center transition-transform transform hover:scale-105 hover:shadow-xl">
          <span class="text-2xl mr-4">ü§ñ</span>
          <span class="text-gray-700 font-medium">AI Gi√°o vi√™n h·ªó tr·ª£ 24/7</span>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-lg flex items-center transition-transform transform hover:scale-105 hover:shadow-xl">
          <span class="text-2xl mr-4">üì±</span>
          <span class="text-gray-700 font-medium">Giao di·ªán responsive, th√¢n thi·ªán</span>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-lg flex items-center transition-transform transform hover:scale-105 hover:shadow-xl">
          <span class="text-2xl mr-4">üéØ</span>
          <span class="text-gray-700 font-medium">Ph√π h·ª£p m·ªçi l·ª©a tu·ªïi h·ªçc √¢m nh·∫°c</span>
        </div>
  
      </div>
  
    </div>
   </div>
   
  </div>
  
  <!-- JavaScript c·ªßa ·ª©ng d·ª•ng -->
  <script>
        // ƒê·ªëi t∆∞·ª£ng c·∫•u h√¨nh m·∫∑c ƒë·ªãnh
        const defaultConfig = {
            game_title: "üéµ√ÇM NH·∫†C - NH·ªäP 4/4üéµ",
            welcome_message: "Ch√†o m·ª´ng c√°c em ƒë·∫øn v·ªõi ·ª©ng d·ª•ng h·ªçc √¢m nh·∫°c chuy√™n nghi·ªáp!",
            ai_teacher_name: "C√¥ √Çm Nh·∫°c"
        };

        // Bi·∫øn cho m√¥ ph·ªèng nh·ªãp
        let rhythmInterval;
        let currentBeat = 0;
        let isPlaying = false;
        let tempo = 100;

        // H·ªá th·ªëng √¢m thanh cho nh·ªãp
        let audioContext;
        let isAudioEnabled = true;

        // Kh·ªüi t·∫°o AudioContext
        function initAudioContext() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            } catch (e) {
                console.log('Web Audio API kh√¥ng ƒë∆∞·ª£c h·ªó tr·ª£');
                isAudioEnabled = false;
            }
        }

        // T·∫°o √¢m thanh ph√°ch v·ªõi t·∫ßn s·ªë kh√°c nhau
        function playBeatSound(beatType) {
            if (!isAudioEnabled || !audioContext) return;

            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            // T·∫ßn s·ªë v√† √¢m l∆∞·ª£ng kh√°c nhau cho t·ª´ng lo·∫°i ph√°ch
            switch(beatType) {
                case 'strong': // Ph√°ch 1 - M·∫°nh nh·∫•t
                    oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    break;
                case 'medium': // Ph√°ch 3 - M·∫°nh v·ª´a
                    oscillator.frequency.setValueAtTime(600, audioContext.currentTime);
                    gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                    break;
                case 'weak': // Ph√°ch 2, 4 - Nh·∫π
                    oscillator.frequency.setValueAtTime(400, audioContext.currentTime);
                    gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
                    break;
            }
            
            oscillator.type = 'sine';
            
            // T·∫°o envelope cho √¢m thanh t·ª± nhi√™n
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        // Bi·∫øn cho s∆° ƒë·ªì ƒë√°nh nh·ªãp
        let conductingTempo = 80;
        let isConducting = false;
        let conductingAnimation;

        // Bi·∫øn cho tr·∫Øc nghi·ªám
        let currentQuiz = [];
        let userAnswers = [];
        let quizScore = 0;
        let currentQuestionIndex = 0;

        // Ng√¢n h√†ng c√¢u h·ªèi tr·∫Øc nghi·ªám
        const quizDatabase = [
            {
                question: "Nh·ªãp 4/4 c√≥ bao nhi√™u ph√°ch trong m·ªôt √¥ nh·ªãp?",
                options: ["2 ph√°ch", "3 ph√°ch", "4 ph√°ch", "5 ph√°ch"],
                correct: 2
            },
            {
                question: "Nh·ªãp 4/4 c√≤n ƒë∆∞·ª£c g·ªçi l√† g√¨?",
                options: ["Nh·ªãp ƒë·∫∑c bi·ªát", "Nh·ªãp th√¥ng th∆∞·ªùng (common time)", "Nh·ªãp nhanh", "Nh·ªãp ch·∫≠m"],
                correct: 1
            },
            {
                question: "Trong nh·ªãp 4/4, m·ªói ph√°ch t∆∞∆°ng ƒë∆∞∆°ng v·ªõi n·ªët g√¨?",
                options: ["N·ªët tr·∫Øng", "N·ªët ƒëen", "N·ªët m√≥c ƒë∆°n", "N·ªët tr√≤n"],
                correct: 1
            },
            {
                question: "Ph√°ch n√†o trong nh·ªãp 4/4 l√† ph√°ch m·∫°nh ch√≠nh?",
                options: ["Ph√°ch 1", "Ph√°ch 2", "Ph√°ch 3", "Ph√°ch 4"],
                correct: 0
            },
            {
                question: "Ph√°ch n√†o trong nh·ªãp 4/4 l√† ph√°ch m·∫°nh ph·ª•?",
                options: ["Ph√°ch 1", "Ph√°ch 2", "Ph√°ch 3", "Ph√°ch 4"],
                correct: 2
            },
            {
                question: "Nh·ªãp 4/4 ƒë∆∞·ª£c s·ª≠ d·ª•ng trong th·ªÉ lo·∫°i nh·∫°c n√†o?",
                options: ["Ch·ªâ nh·∫°c pop", "Ch·ªâ nh·∫°c c·ªï ƒëi·ªÉn", "Pop, rock, jazz, c·ªï ƒëi·ªÉn, hip-hop", "Ch·ªâ nh·∫°c d√¢n gian"],
                correct: 2
            },
            {
                question: "B√†i h√°t 'Khi hai ta v·ªÅ m·ªôt nh√†' c·ªßa Ti√™n Ti√™n s·ª≠ d·ª•ng nh·ªãp g√¨?",
                options: ["Nh·ªãp 3/4", "Nh·ªãp 4/4", "Nh·ªãp 2/4", "Nh·ªãp 6/8"],
                correct: 1
            },
            {
                question: "Trong c√¢u 'Khi hai ta v·ªÅ m·ªôt nh√†', t·ª´ 'Khi' r∆°i v√†o ph√°ch n√†o?",
                options: ["Ph√°ch 1", "Ph√°ch 2", "Ph√°ch 3", "Ph√°ch 4"],
                correct: 0
            },
            {
                question: "Nh·ªãp 4/4 t·∫°o c·∫£m gi√°c nh∆∞ th·∫ø n√†o?",
                options: ["B·∫•t ·ªïn v√† kh√≥ theo", "C√¢n b·∫±ng, ·ªïn ƒë·ªãnh v√† d·ªÖ theo", "Ch·ªâ ph√π h·ª£p v·ªõi nh·∫°c bu·ªìn", "Qu√° ph·ª©c t·∫°p"],
                correct: 1
            },
            {
                question: "Th·ª© t·ª± c∆∞·ªùng ƒë·ªô c√°c ph√°ch trong nh·ªãp 4/4 l√† g√¨?",
                options: ["M·∫°nh - M·∫°nh - Nh·∫π - Nh·∫π", "M·∫°nh - Nh·∫π - M·∫°nh v·ª´a - Nh·∫π", "Nh·∫π - M·∫°nh - Nh·∫π - M·∫°nh", "T·∫•t c·∫£ ƒë·ªÅu m·∫°nh nh∆∞ nhau"],
                correct: 1
            }
        ];

        // Ng√¢n h√†ng c√¢u tr·∫£ l·ªùi c·ªßa AI
        const aiResponses = {
            "nh·ªãp 4/4 l√† g√¨": "Nh·ªãp 4/4 c√≤n ƒë∆∞·ª£c g·ªçi l√† 'nh·ªãp th√¥ng th∆∞·ªùng' (common time) ƒë·∫•y em! N√≥ c√≥ 4 ph√°ch trong m·ªói √¥ nh·ªãp, v√† m·ªói ph√°ch b·∫±ng m·ªôt n·ªët ƒëen. Gi·ªëng nh∆∞ em ƒë·∫øm 1-2-3-4 r·ªìi l·∫°i b·∫Øt ƒë·∫ßu t·ª´ 1! ƒê√¢y l√† nh·ªãp ph·ªï bi·∫øn nh·∫•t trong √¢m nh·∫°c hi·ªán ƒë·∫°i! üì¶üéµ",
            
            "common time": "Common time ch√≠nh l√† t√™n ti·∫øng Anh c·ªßa nh·ªãp 4/4! N√≥ ƒë∆∞·ª£c g·ªçi nh∆∞ v·∫≠y v√¨ r·∫•t ph·ªï bi·∫øn v√† 'th√¥ng th∆∞·ªùng' trong h·∫ßu h·∫øt c√°c b√†i h√°t. T·ª´ nh·∫°c pop, rock, jazz ƒë·∫øn c·ªï ƒëi·ªÉn ƒë·ªÅu d√πng nh·ªãp n√†y! üåçüéº",
            
            "ph√°ch m·∫°nh ph·ª•": "Trong nh·ªãp 4/4, ph√°ch 3 l√† ph√°ch m·∫°nh ph·ª•! N√≥ kh√¥ng m·∫°nh b·∫±ng ph√°ch 1 nh∆∞ng m·∫°nh h∆°n ph√°ch 2 v√† 4. Gi·ªëng nh∆∞ khi em ƒëi b·ªô: b∆∞·ªõc tr√°i m·∫°nh (1), b∆∞·ªõc ph·∫£i nh·∫π (2), b∆∞·ªõc tr√°i v·ª´a (3), b∆∞·ªõc ph·∫£i nh·∫π (4)! üë£‚ú®",
            
            "khi hai ta v·ªÅ m·ªôt nh√†": "ƒê√≥ l√† v√≠ d·ª• tuy·ªát v·ªùi v·ªÅ nh·ªãp 4/4! 'Khi (1) ‚Äì hai ‚Äì ta (2) ‚Äì v·ªÅ ‚Äì m·ªôt (3) ‚Äì nh√† (4)'. Ph√°ch 1 v√† 3 ƒë∆∞·ª£c nh·∫•n m·∫°nh, t·∫°o c·∫£m gi√°c c√¢n b·∫±ng v√† l√£ng m·∫°n. Th·ª≠ h√°t v√† ƒë·∫øm nh·ªãp xem em! üéµüíï",
            
            "n·ªët ƒëen": "Trong nh·ªãp 4/4, m·ªói ph√°ch t∆∞∆°ng ƒë∆∞∆°ng v·ªõi m·ªôt n·ªët ƒëen! N·ªët ƒëen l√† ƒë∆°n v·ªã th·ªùi gian c∆° b·∫£n, kh√¥ng qu√° nhanh kh√¥ng qu√° ch·∫≠m. Gi·ªëng nh∆∞ nh·ªãp tim b√¨nh th∆∞·ªùng c·ªßa em v·∫≠y! ‚ô©üíì",
            
            "t·∫°i sao nh·ªãp 4/4 ph·ªï bi·∫øn": "V√¨ nh·ªãp 4/4 t·∫°o c·∫£m gi√°c c√¢n b·∫±ng, ·ªïn ƒë·ªãnh v√† d·ªÖ theo! N√≥ gi·ªëng nh·ªãp t·ª± nhi√™n c·ªßa c∆° th·ªÉ: ƒëi b·ªô, nh·ªãp tim, th·ªü... T·ª´ nh·∫°c pop, rock, jazz, c·ªï ƒëi·ªÉn, hip-hop ƒë·ªÅu d√πng nh·ªãp n√†y v√¨ d·ªÖ nghe v√† d·ªÖ nh·ªõ! üèÉ‚Äç‚ôÄÔ∏è‚ù§Ô∏èüé∂",
            
            "c√°ch ƒë√°nh nh·ªãp 4/4": "Em h√£y t∆∞·ªüng t∆∞·ª£ng v·∫Ω m·ªôt h√¨nh vu√¥ng trong kh√¥ng kh√≠! Ph√°ch 1: tay xu·ªëng (m·∫°nh), ph√°ch 2: sang tr√°i (nh·∫π), ph√°ch 3: sang ph·∫£i (m·∫°nh v·ª´a), ph√°ch 4: l√™n tr√™n (nh·∫π). Ph√°ch 1 v√† 3 nh·∫•n m·∫°nh h∆°n nh√©! ‚¨áÔ∏è‚¨ÖÔ∏è‚û°Ô∏è‚¨ÜÔ∏è",
            
            "v√≠ d·ª• v·ªÅ nh·ªãp 4/4": "R·∫•t nhi·ªÅu b√†i h√°t em bi·∫øt ƒë·ªÅu l√† nh·ªãp 4/4! Nh∆∞ 'Khi hai ta v·ªÅ m·ªôt nh√†' c·ªßa Ti√™n Ti√™n, 'Happy Birthday', 'Twinkle Twinkle Little Star'. H·∫ßu h·∫øt nh·∫°c pop v√† rock ƒë·ªÅu d√πng nh·ªãp n√†y! Th·ª≠ ƒë·∫øm 1-2-3-4 theo nh·ªØng b√†i n√†y xem! ‚≠êüéÇüéà"
        };

        // Kh·ªüi t·∫°o ·ª©ng d·ª•ng
        function init() {
            // Logic m·ªõi ƒë·ªÉ x·ª≠ l√Ω m√†n h√¨nh kh·ªüi ƒë·ªông
            const loadingScreen = document.getElementById('loadingScreen');
            const mainContent = document.getElementById('mainContent');

            // Gi·∫£ l·∫≠p th·ªùi gian t·∫£i (3 gi√¢y)
            setTimeout(() => {
                // Th√™m class fade-out cho m√†n h√¨nh t·∫£i
                loadingScreen.classList.add('fade-out');

                // Sau khi animation fade-out k·∫øt th√∫c (500ms),
                // ·∫©n ho√†n to√†n v√† hi·ªÉn th·ªã n·ªôi dung ch√≠nh
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    mainContent.style.display = 'block';
                    mainContent.classList.add('fade-in'); // S·ª≠ d·ª•ng l·∫°i animation fade-in
                }, 500); // Ph·∫£i kh·ªõp v·ªõi th·ªùi gian animation c·ªßa fadeOut (0.5s)

            }, 3000); // T·ªïng th·ªùi gian m√†n h√¨nh t·∫£i

            // Logic c≈© v·∫´n ch·∫°y
            generateNewQuiz();
            updateDisplay();
        }

        // Tri·ªÉn khai Element SDK (n·∫øu c√≥)
        async function render(config) {
            document.querySelector('.game-title').textContent = config.game_title || defaultConfig.game_title;
            document.querySelector('.welcome-text').textContent = config.welcome_message || defaultConfig.welcome_message;
            
            // C·∫≠p nh·∫≠t t√™n gi√°o vi√™n AI
            const teacherNameElements = document.querySelectorAll('.ai-teacher p');
            if (teacherNameElements.length > 1) {
                teacherNameElements[1].textContent = config.ai_teacher_name || defaultConfig.ai_teacher_name;
            }
            
            // C·∫≠p nh·∫≠t tin nh·∫Øn chat
            const aiMessages = document.querySelectorAll('.message.ai strong');
            aiMessages.forEach(msg => {
                msg.textContent = `${config.ai_teacher_name || defaultConfig.ai_teacher_name}:`;
            });
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["game_title", config.game_title || defaultConfig.game_title],
                ["welcome_message", config.welcome_message || defaultConfig.welcome_message],
                ["ai_teacher_name", config.ai_teacher_name || defaultConfig.ai_teacher_name]
            ]);
        }

        // Kh·ªüi t·∫°o Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                render,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }

        function updateDisplay() {
            const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
            render(config);
        }

        // Chuy·ªÉn tab
        function showTab(tabName) {
            // ·∫®n t·∫•t c·∫£ n·ªôi dung tab
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            // B·ªè active t·∫•t c·∫£ n√∫t tab
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Hi·ªÉn th·ªã tab ƒë∆∞·ª£c ch·ªçn
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Ch·ª©c nƒÉng m√¥ ph·ªèng nh·ªãp
        function startRhythm() {
            if (isPlaying) return;
            
            // Kh·ªüi t·∫°o audio context khi ng∆∞·ªùi d√πng t∆∞∆°ng t√°c l·∫ßn ƒë·∫ßu
            if (!audioContext) {
                initAudioContext();
            }
            
            isPlaying = true;
            currentBeat = 0;
            
            const beatInterval = 60000 / tempo; // Chuy·ªÉn BPM sang milliseconds
            
            rhythmInterval = setInterval(() => {
                // ƒê·∫∑t l·∫°i t·∫•t c·∫£ c√°c ph√°ch
                document.querySelectorAll('.beat').forEach(beat => {
                    beat.classList.remove('active');
                });
                
                // K√≠ch ho·∫°t ph√°ch hi·ªán t·∫°i
                const currentBeatElement = document.getElementById(`beat${currentBeat + 1}`);
                currentBeatElement.classList.add('active');
                
                // Ph√°t √¢m thanh t∆∞∆°ng ·ª©ng
                let beatType;
                switch(currentBeat) {
                    case 0: // Ph√°ch 1 - M·∫°nh
                        beatType = 'strong';
                        break;
                    case 2: // Ph√°ch 3 - V·ª´a
                        beatType = 'medium';
                        break;
                    case 1: // Ph√°ch 2 - Nh·∫π
                    case 3: // Ph√°ch 4 - Nh·∫π
                        beatType = 'weak';
                        break;
                }
                playBeatSound(beatType);
                
                // Chuy·ªÉn sang ph√°ch ti·∫øp theo
                currentBeat = (currentBeat + 1) % 4;
            }, beatInterval);
        }

        function stopRhythm() {
            isPlaying = false;
            clearInterval(rhythmInterval);
            
            // ƒê·∫∑t l·∫°i t·∫•t c·∫£ c√°c ph√°ch
            document.querySelectorAll('.beat').forEach(beat => {
                beat.classList.remove('active');
            });
            
            currentBeat = 0;
        }

        function updateTempo() {
            tempo = document.getElementById('tempoSlider').value;
            document.getElementById('tempoDisplay').textContent = tempo + ' BPM';
            
            // N·∫øu ƒëang ph√°t, kh·ªüi ƒë·ªông l·∫°i v·ªõi tempo m·ªõi
            if (isPlaying) {
                stopRhythm();
                startRhythm();
            }
        }

        // Ch·ª©c nƒÉng tr·∫Øc nghi·ªám
        function generateNewQuiz() {
            // L·∫•y 10 c√¢u h·ªèi ng·∫´u nhi√™n t·ª´ ng√¢n h√†ng
            const shuffled = [...quizDatabase].sort(() => Math.random() - 0.5);
            currentQuiz = shuffled.slice(0, 10); // ƒê·∫£m b·∫£o ch·ªâ c√≥ 10 c√¢u
            userAnswers = new Array(10).fill(-1);
            quizScore = 0;
            currentQuestionIndex = 0;
            
            renderCurrentQuestion();
            updateQuizProgress();
        }

        function renderCurrentQuestion() {
            const container = document.getElementById('quizQuestions');
            container.innerHTML = '';
            
            if (currentQuestionIndex >= currentQuiz.length) {
                showQuizResults();
                return;
            }
            
            const q = currentQuiz[currentQuestionIndex];
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question';
            questionDiv.innerHTML = `
                <h3>C√¢u ${currentQuestionIndex + 1}/10: ${q.question}</h3>
                <div class="options">
                    ${q.options.map((option, optIndex) => `
                        <div class="option" onclick="selectAnswer(${optIndex})">
                            ${String.fromCharCode(65 + optIndex)}. ${option}
                        </div>
                    `).join('')}
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    ${currentQuestionIndex > 0 ? '<button class="btn btn-secondary" onclick="previousQuestion()">‚¨ÖÔ∏è C√¢u Tr∆∞·ªõc</button>' : ''}
                </div>
            `;
            container.appendChild(questionDiv);
        }

        function showQuizResults() {
            const container = document.getElementById('quizQuestions');
            const percentage = Math.round((quizScore / 10) * 100);
            let message = '';
            
            if (percentage >= 80) {
                message = 'üéâ Xu·∫•t s·∫Øc! Em ƒë√£ hi·ªÉu r·∫•t r√µ v·ªÅ nh·ªãp 4/4!';
            } else if (percentage >= 60) {
                message = 'üëç T·ªët l·∫Øm! Em c·∫ßn √¥n t·∫≠p th√™m m·ªôt ch√∫t n·ªØa!';
            } else {
                message = 'üí™ C·ªë g·∫Øng l√™n! H√£y xem l·∫°i ph·∫ßn m√¥ ph·ªèng nh·ªãp v√† th·ª≠ l·∫°i!';
            }
            
            container.innerHTML = `
                <div class="question" style="text-align: center;">
                    <h2>üèÜ K·∫øt Qu·∫£ B√†i Thi</h2>
                    <div style="font-size: 3rem; margin: 20px 0;">${percentage}%</div>
                    <div style="font-size: 1.5rem; margin: 20px 0;">ƒêi·ªÉm: ${quizScore}/10</div>
                    <p style="font-size: 1.2rem; color: #4a5568;">${message}</p>
                </div>
            `;
        }

        function selectAnswer(optionIndex) {
            // Ch·ªâ cho ph√©p ch·ªçn 1 l·∫ßn
            if (userAnswers[currentQuestionIndex] !== -1) return;

            userAnswers[currentQuestionIndex] = optionIndex;
            
            // C·∫≠p nh·∫≠t UI
            const questionDiv = document.querySelector('.question');
            const options = questionDiv.querySelectorAll('.option');
            
            // T·∫Øt kh·∫£ nƒÉng click v√†o c√°c l·ª±a ch·ªçn kh√°c
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Hi·ªÉn th·ªã ƒë√°p √°n ƒë√∫ng
            const correctIndex = currentQuiz[currentQuestionIndex].correct;
            options[correctIndex].classList.add('correct');
            
            // Ki·ªÉm tra ƒë√°p √°n c·ªßa ng∆∞·ªùi d√πng
            if (optionIndex !== correctIndex) {
                options[optionIndex].classList.add('incorrect');
            } else {
                quizScore++;
            }
            
            updateQuizProgress();
            
            // T·ª± ƒë·ªông chuy·ªÉn c√¢u sau 2 gi√¢y
            setTimeout(() => {
                nextQuestion();
            }, 2000);
        }

        function nextQuestion() {
            currentQuestionIndex++;
            renderCurrentQuestion();
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                // Tr·ª´ ƒëi·ªÉm n·∫øu quay l·∫°i t·ª´ c√¢u ƒë√£ tr·∫£ l·ªùi ƒë√∫ng
                if (userAnswers[currentQuestionIndex-1] === currentQuiz[currentQuestionIndex-1].correct) {
                    quizScore--;
                }
                // ƒê·∫∑t l·∫°i c√¢u tr·∫£ l·ªùi tr∆∞·ªõc ƒë√≥
                userAnswers[currentQuestionIndex-1] = -1;
                currentQuestionIndex--;
                renderCurrentQuestion();
                updateQuizProgress();
            }
        }

        function updateQuizProgress() {
            const progress = (currentQuestionIndex / 10) * 100;
            
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('score').textContent = quizScore;
        }

        function resetQuiz() {
            userAnswers = new Array(10).fill(-1);
            quizScore = 0;
            currentQuestionIndex = 0;
            renderCurrentQuestion();
            updateQuizProgress();
        }

        // Ch·ª©c nƒÉng AI Gi√°o Vi√™n
        function askAI() {
            const input = document.getElementById('questionInput');
            const question = input.value.trim().toLowerCase();
            
            if (!question) return;
            
            // Th√™m tin nh·∫Øn c·ªßa ng∆∞·ªùi d√πng
            addMessage('user', input.value);
            
            // T·∫°o c√¢u tr·∫£ l·ªùi c·ªßa AI
            const response = generateAIResponse(question);
            
            setTimeout(() => {
                addMessage('ai', response);
            }, 1000);
            
            input.value = '';
        }

        function handleEnter(event) {
            if (event.key === 'Enter') {
                askAI();
            }
        }

        function addMessage(sender, text) {
            const container = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
            const teacherName = config.ai_teacher_name || defaultConfig.ai_teacher_name;
            
            if (sender === 'user') {
                messageDiv.innerHTML = `<strong>Em:</strong> ${text}`;
            } else {
                messageDiv.innerHTML = `<strong>${teacherName}:</strong> ${text}`;
            }
            
            container.appendChild(messageDiv);
            container.scrollTop = container.scrollHeight;
        }

        function generateAIResponse(question) {
            // T√¨m c√¢u tr·∫£ l·ªùi kh·ªõp
            for (const [key, response] of Object.entries(aiResponses)) {
                if (question.includes(key.toLowerCase()) || key.toLowerCase().includes(question)) {
                    return response;
                }
            }
            
            // C√¢u tr·∫£ l·ªùi m·∫∑c ƒë·ªãnh cho c√°c m·∫´u c√¢u h·ªèi chung
            if (question.includes('nh·ªãp') || question.includes('4/4')) {
                return "ƒê√≥ l√† c√¢u h·ªèi hay v·ªÅ nh·ªãp 4/4! Nh·ªãp 4/4 l√† nh·ªãp c∆° b·∫£n nh·∫•t trong √¢m nh·∫°c, gi·ªëng nh∆∞ nh·ªãp ƒë·∫≠p c·ªßa tr√°i tim em v·∫≠y. Em c√≥ th·ªÉ th·ª≠ ƒë·∫øm 1-2-3-4 v√† c·∫£m nh·∫≠n xem! üíìüéµ";
            }
            
            if (question.includes('ph√°ch')) {
                return "Ph√°ch l√† ƒë∆°n v·ªã th·ªùi gian trong √¢m nh·∫°c, gi·ªëng nh∆∞ ti·∫øng tick-tock c·ªßa ƒë·ªìng h·ªì! Trong nh·ªãp 4/4 c√≥ 4 ph√°ch, v√† ph√°ch ƒë·∫ßu ti√™n lu√¥n m·∫°nh nh·∫•t ƒë·ªÉ ƒë√°nh d·∫•u b·∫Øt ƒë·∫ßu √¥ nh·ªãp m·ªõi. ‚è∞üé∂";
            }
            
            if (question.includes('c√°ch') || question.includes('l√†m sao')) {
                return "ƒê·ªÉ h·ªçc nh·ªãp 4/4, em h√£y b·∫Øt ƒë·∫ßu b·∫±ng c√°ch v·ªó tay theo nh·ªãp 1-2-3-4, trong ƒë√≥ ti·∫øng v·ªó s·ªë 1 m·∫°nh nh·∫•t. Sau ƒë√≥ th·ª≠ v·ªõi nh·ªØng b√†i h√°t em y√™u th√≠ch! üëèüéµ";
            }
            
            // C√¢u tr·∫£ l·ªùi chung chung
            return "C√¢u h·ªèi th√∫ v·ªã! V·ªÅ nh·ªãp 4/4, c√¥ khuy√™n em n√™n th·ª±c h√†nh nhi·ªÅu b·∫±ng c√°ch nghe nh·∫°c v√† ƒë·∫øm nh·ªãp. Em c√≥ th·ªÉ h·ªèi c√¥ v·ªÅ ph√°ch m·∫°nh, ph√°ch nh·∫π, c√°ch ƒë√°nh nh·ªãp, ho·∫∑c v√≠ d·ª• v·ªÅ c√°c b√†i h√°t nh·ªãp 4/4 nh√©! üéº‚ú®";
        }

        // Ch·ª©c nƒÉng S∆° ƒë·ªì ƒë√°nh nh·ªãp (n·∫øu c√≥)
        // (Trong m√£ HTML c·ªßa b·∫°n, s∆° ƒë·ªì ƒë√°nh nh·ªãp n·∫±m trong tab L√Ω Thuy·∫øt v√† kh√¥ng c√≥ n√∫t t∆∞∆°ng t√°c ri√™ng
        // n√™n t√¥i s·∫Ω ƒë·ªÉ tr·ªëng ph·∫ßn n√†y. N·∫øu b·∫°n mu·ªën th√™m t∆∞∆°ng t√°c, h√£y cho t√¥i bi·∫øt)
        
        // Ch·ª©c nƒÉng t·∫£i QR
        function downloadQR() {
            const qrImage = document.querySelector('.qr-code');
            if (!qrImage || !qrImage.src) {
                showNotification('QR code kh√¥ng kh·∫£ d·ª•ng ƒë·ªÉ t·∫£i xu·ªëng', 'error');
                return;
            }
            
            // T·∫°o li√™n k·∫øt t·∫£i xu·ªëng
            const link = document.createElement('a');
            link.href = qrImage.src;
            link.download = 'QR-Ung-Ho-Tuan-Anh.png';
            link.target = '_blank';
            
            // K√≠ch ho·∫°t t·∫£i xu·ªëng
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('ƒêang t·∫£i QR code...', 'success');
        }

        // Hi·ªÉn th·ªã th√¥ng b√°o t√πy ch·ªânh (thay th·∫ø cho alert)
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'error' ? 'linear-gradient(135deg, #f56565 0%, #e53e3e 100%)' : 'linear-gradient(135deg, #48bb78 0%, #38a169 100%)'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 1000;
                font-weight: 600;
                animation: slideInRight 0.3s ease;
            `;
            notification.textContent = message;
            
            if (!document.querySelector('#notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    @keyframes slideInRight {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOutRight {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(notification);
            
            // T·ª± ƒë·ªông x√≥a sau 3 gi√¢y
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Kh·ªüi t·∫°o khi trang t·∫£i xong
        document.addEventListener('DOMContentLoaded', init);
    </script>
 </body>
</html>




